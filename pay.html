<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì •ì‚°í•˜ê¸°</title>
    <script>
        window.onload = function() {
            const params = new URLSearchParams(window.location.search);
            const app = params.get('app'); // toss ì¸ì§€ kakao ì¸ì§€ í™•ì¸
            const bank = params.get('bank');
            const account = params.get('acc');
            const amount = params.get('amt');

            // 1. í† ìŠ¤ ì„ íƒ ì‹œ: ë¬»ì§€ë„ ë”°ì§€ì§€ë„ ì•Šê³  ë°”ë¡œ ì‹¤í–‰ (UX ìµœê°•)
            if (app === 'toss') {
                const tossScheme = `supertoss://send?bank=${bank}&accountNo=${account}&amount=${amount}&origin=link`;
                window.location.href = tossScheme;
                
                // PCê±°ë‚˜ ì•± ì—†ì„ ë•Œë§Œ ë¬¸êµ¬ í‘œì‹œ
                document.body.innerHTML = "<h3>í† ìŠ¤ ì•±ì„ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤...ğŸš€</h3>";
            } 
            
            // 2. ì¹´ì¹´ì˜¤í˜ì´ ì„ íƒ ì‹œ: ê³„ì¢Œ ë³µì‚¬ ë²„íŠ¼ ë³´ì—¬ì£¼ê¸°
            else if (app === 'kakao') {
                // UI ê·¸ë¦¬ê¸° (ê³„ì¢Œ ë³µì‚¬ ê¸°ëŠ¥ ë•Œë¬¸)
                document.getElementById('container').style.display = 'block';
                document.getElementById('info').innerText = bank + " " + account + "\n" + Number(amount).toLocaleString() + "ì›";
            }
            // 3. ê·¸ëƒ¥ ë“¤ì–´ì™”ì„ ë•Œ (ì˜ˆì™¸ ì²˜ë¦¬)
            else {
                 document.body.innerHTML = "<h3>ì˜ëª»ëœ ì ‘ê·¼ì…ë‹ˆë‹¤.</h3>";
            }
        }

        function copyAndGo() {
            const params = new URLSearchParams(window.location.search);
            const text = params.get('bank') + " " + params.get('acc');
            
            navigator.clipboard.writeText(text).then(() => {
                alert("ê³„ì¢Œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! \nì¹´ì¹´ì˜¤í˜ì´(ë˜ëŠ” ë±…í‚¹ì•±)ë¥¼ ì‹¤í–‰í•´ì„œ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”.");
                window.location.href = 'kakaotalk://launch'; // ì¹´ì¹´ì˜¤í†¡ ì‹¤í–‰
            }).catch(() => {
                prompt("ì§ì ‘ ë³µì‚¬í•´ì£¼ì„¸ìš”:", text); // ë³´ì•ˆìƒ ë§‰íˆë©´ ì§ì ‘ ë³µì‚¬
            });
        }
    </script>
    <style>
        body { font-family: sans-serif; text-align: center; padding-top: 50px; background-color: #F2F4F6; margin: 0; }
        .btn { background-color: #FFEB00; color: #3C1E1E; padding: 15px 30px; border-radius: 10px; border: none; font-weight: bold; font-size: 16px; cursor: pointer; width: 80%; max-width: 300px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        #container { display: none; background: white; margin: 20px auto; padding: 40px 20px; border-radius: 20px; max-width: 400px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
    </style>
</head>
<body>
    <div id="container">
        <h3 style="margin-top:0;">ì¹´ì¹´ì˜¤í˜ì´ë¡œ ë³´ë‚´ê¸°</h3>
        <p style="color:#8B95A1; font-size:14px;">ì•„ë˜ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ê³„ì¢Œê°€ ë³µì‚¬ë˜ê³ <br>ì¹´ì¹´ì˜¤í†¡ì´ ì‹¤í–‰ë©ë‹ˆë‹¤.</p>
        <div id="info" style="font-weight:bold; color:#3182F6; font-size: 18px; margin: 20px 0; padding: 15px; background: #F9FAFB; border-radius: 10px;"></div>
        <button class="btn" onclick="copyAndGo()">ê³„ì¢Œ ë³µì‚¬í•˜ê³  ì‹¤í–‰í•˜ê¸° ğŸ‘‰</button>
    </div>
</body>
</html>
